:root {
    /* Warp Speed Palette - Deep & Dark */
    --bg-color-zerolevel: #020305;       /* Almost black */
    --bg-color-firstlevel: #080b12;      /* Very Deep Navy */
    --bg-color-firstlevel-transparent: #080b128f;
    --bg-color-firstlevel-less-transparent: #080b12bf;
    --bg-color-secondlevel: #0f1621;     /* Deep Navy */
    --bg-color-secondlevel-transparent: #0f1621c6;
    --bg-color-thirdlevel: #1a2433;      /* Lighter Navy */

    /* Main Accents */
    --color-primary: #e0e6ed;          
    --color-tertiary: #3B7BA5;      
    --color-quarterary: #a2c0cf;        
    --color-hover: #86D2D5;            


    /* Text Colors */
    --color-secondary: #e0e6ed;          /* Off-white */
    --color-secondary-transparent: #3b7ba524;      /* Light Blue-grey */
    --color-zero: #546e7a;
    --color-zero-transparent: #546e7aaa;               /* Muted Blue-grey */
    --color-zerosecondary: #78909c;
    --color-name: #a8d897;

    /* Button Specifics */
    --color-action-btn-primary: #0f1621;
    --color-action-btn-primary-hover: #1a2433;
    --color-action-btn-primary-border: #3B7BA588; 
    
    --color-task-btn: #0f1621;
    --color-task-btn-hover: #142b1f;
    --color-task-btn-border: #3B7BA5;

    --color-accordion: #7dd2e76b;
    
    /* Functional Glows - Enhanced for "More Neon" */
    /* --glow-text-primary: 0 0 15px rgba(125, 209, 231, 0.7); */
    --glow-text-primary: none;
    --glow-text-hover: 0 0 18px rgba(168, 216, 151, 0.6);
    --glow-focus: 0 0 18px rgba(125, 209, 231, 0.3);
    --glow-hover: 0 0 15px #99d5fd2e;
    --glow-border: 0 0 10px rgba(125, 209, 231, 0.4);
    
    /* Smooth Transition */
    --transition-smooth: all 0.75s cubic-bezier(0.25, 0.8, 0.25, 1);

    /* Cursor Tracking Variables */
    --mouse-x: 50vw;
    --mouse-y: 50vh;
}

/* base color for all text */
* {
    color: var(--color-secondary) !important;
    box-shadow: none !important;
}



.bslib-sidebar-layout {
    z-index: 1000 !important;
}

/* cursor & body */
body {
    background-color: var(--bg-color-zerolevel) !important;
}

/* Ensure content sits above the background canvas */
.main, .container-fluid, .shiny-input-container {
    position: relative !important;
}
.main {
    scrollbar-color: var(--color-zero) var(--bg-color-zerolevel) !important;
}

/* Navbar needs higher z-index so dropdowns don't get covered by main content */
.navbar {
    position: relative !important;
    z-index: 1100 !important;
}

.main {
    scrollbar-color: var(--color-zero) var(--bg-color-zerolevel) !important;
}
.html-fill-container {
    scrollbar-color: var(--color-zero) var(--bg-color-firstlevel) !important;
}
.modal {
    scrollbar-color: var(--color-zero) var(--bg-color-firstlevel) !important;
}

/* Uniform Card Style */
.card {
    border: 1px solid rgba(57, 77, 155, 0.5) !important; /* Royal Blue border transparent */
    background-color: var(--bg-color-firstlevel) !important;
    border-radius: 4px !important;
    box-shadow: none !important; 
    transition: var(--transition-smooth) !important;
}
.card:hover {
    border-color: var(--color-primary) !important;
    box-shadow: var(--glow-border), 0 10px 30px rgba(0,0,0,0.5) !important;
    transform: translateY(-1px);
}
.card-header.bg-secondary-css {
    border-bottom: 1px solid #1a2433 !important;
    border-top: none !important;
    border-left: none !important;
    background-color: var(--bg-color-secondlevel) !important;
}
.card-header.bg-blue {
    /* Cyan gradient */
    border-bottom: 1px solid var(--color-primary) !important;
    background: linear-gradient(90deg, rgba(125, 209, 231, 0.15) 0%, transparent 100%) !important;
    border-top: none !important;
    border-left: none !important;
}
.card-header.bg-blue * {
    color: var(--color-primary) !important;
    text-shadow: var(--glow-text-primary) !important;
}

/* numeric inputs - Transparent blend to fix "dark blocks" */
.form-control.shiny-input-number {
    transition: var(--transition-smooth) !important;
    border: 1px solid rgba(125, 209, 231, 0.2) !important;
    border-radius: 2px !important;
    color: var(--color-primary) !important;
    background-color: rgba(0, 0, 0, 0.2) !important; /* Transparent dark overlay */
    caret-color: var(--color-hover) !important;
}
.form-control.shiny-input-number:hover {
    border-color: var(--color-hover) !important;
    box-shadow: var(--glow-hover) !important;
    background-color: rgba(0, 0, 0, 0.3) !important;
}
.form-control.shiny-input-number:focus {
    border-color: var(--color-primary) !important;
    box-shadow: var(--glow-focus) !important;
    color: #fff !important;
    text-shadow: 0 0 8px var(--color-primary);
    background-color: rgba(0, 0, 0, 0.4) !important;
}

/* accordion base - Smoother flow */
.accordion * {
    box-shadow: none !important;
}
.accordion-item {
    border: none !important;
    background-color: #151e29b0 !important;
    margin-bottom: 0 !important; /* Remove gaps */
}
.accordion-button {
    border: none !important;
    border-bottom: 1px solid rgba(57, 77, 155, 0.3) !important;
    background-color: var(--bg-color-firstlevel-less-transparent) !important;
    color: var(--color-zerosecondary) !important;
    font-weight: 600 !important;
    transition: var(--transition-smooth) !important;
}
.accordion-button:not(.collapsed) {
    color: var(--color-primary) !important;
    background: linear-gradient(90deg, #7dd1e714 0%, transparent 100%) !important;
    text-shadow: var(--glow-text-primary);
    border-bottom-color: var(--color-primary) !important;
}
.accordion-button:hover {
    color: var(--color-hover) !important;
    text-shadow: var(--glow-text-hover);
    background-color: #ffffff05 !important;
}

/* Arrow style */
.accordion-button::after {
    filter: grayscale(100%) brightness(1.5);
    transition: 0.2s ease;
}
.accordion-button:not(.collapsed)::after {
    filter: none;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%237dd1e7'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e") !important;
}

/* elevated panel - subtle distinction */
.elevated-panel {
    z-index: 2000 !important; 
}
.elevated-panel .card-body.bslib-gap-spacing.html-fill-item.html-fill-container {
    padding: 1rem !important;
    
}
.elevated-panel .card {
    border: 1px solid #1a2433 !important;
    background-color: var(--bg-color-firstlevel-less-transparent) !important;
}
.elevated-panel .card:hover:not(:has(.accordion:hover)) {
    border-color: var(--color-zero) !important;
}

/* draggable accordion - Smoother look */
.draggable-accordion .accordion-item {
    background-color: transparent !important;
    margin-bottom: 0 !important;
    border-bottom: 1px solid rgba(57, 77, 155, 0.3) !important;
}
.draggable-accordion .accordion-button {
    background: transparent !important;
    border: none !important;
    border-left: 3px solid transparent !important; /* Thicker indicator */
    border-radius: 0 !important;
    transition: var(--transition-smooth) !important;
    padding: 0.75rem 1rem !important;
}
.draggable-accordion .accordion-button:not(.collapsed) {
    background: linear-gradient(90deg, rgba(125, 209, 231, 0.05) 0%, transparent 100%) !important;
    border-left-color: var(--color-primary) !important;
    box-shadow: inset 10px 0 20px -10px rgba(125, 209, 231, 0.1) !important;
}
.draggable-accordion .accordion-button:hover {
    background-color: rgba(255, 255, 255, 0.02) !important;
    border-left-color: var(--color-hover) !important;
}
.draggable-accordion .accordion-body {
    border: none !important;
    background-color: rgba(0, 0, 0, 0.15) !important;
    padding: 1rem !important;
}

/* action buttons & download buttons - Strict Alignment */
.action-button.btn-primary, 
.btn.btn-default.shiny-download-link {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-sizing: border-box !important;
    
    border: 1px solid var(--color-action-btn-primary-border) !important;
    background-color: var(--bg-color-zerolevel) !important;
    color: var(--color-secondary) !important;
    transition: var(--transition-smooth) !important;
}

.action-button.btn-primary:hover,
.btn.btn-default.shiny-download-link:hover {
    border-color: var(--color-primary) !important;
    background-color: var(--bg-color-secondlevel) !important;
    box-shadow: var(--glow-focus), inset 0 0 10px rgba(125, 209, 231, 0.1) !important;
    color: #fff !important;
    text-shadow: var(--glow-text-primary);
    transform: translateY(-1px);
}

.action-button.btn-primary:active,
.btn.btn-default.shiny-download-link:active {
    transform: translateY(1px);
    box-shadow: none !important;
}
.action-button.btn-primary:disabled,
.btn.btn-default.shiny-download-link:disabled {
    border-color: #1a2433 !important;
    background: none !important;
    box-shadow: none !important;
    cursor: not-allowed !important;
}
.action-button.btn-primary:disabled *,
.btn.btn-default.shiny-download-link:disabled * {
    color: var(--color-zero-transparent) !important;
}

/* task button colors */
.task-btn {
    background-color: var(--color-task-btn) !important;
    border: none !important;
    color: var(--color-zerosecondary) !important;
}
.task-btn:hover {
    transition: 0.6s ease-in-out !important;
    box-shadow: var(--glow-hover) !important;
    background-color: var(--color-zero-transparent) !important;
}
.task-btn-mask:disabled,
.task-btn-mask[disabled] {
    border-color: #1a2433 !important;
}
.task-btn-mask:disabled * ,
.task-btn-mask[disabled] * {
    color: var(--color-quarterary) !important;
}

/* input groups */
.input-group .btn {
    position: relative;
    border: 1px solid rgba(125, 209, 231, 0.2) !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
    color: var(--color-zero) !important;
}
.input-group .btn:hover {
    border-color: transparent !important;
    color: var(--color-hover) !important;
    box-shadow: var(--glow-hover) !important;
}

/* Animated border pseudo-elements */
.input-group .btn::before,
.input-group .btn::after {
    content: "";
    position: absolute;
    width: 0;
    height: 0;
    box-sizing: border-box;
    border: 1px solid transparent;
    border-radius: inherit;
}

/* Bottom & Right segments (Start Bottom-Left -> Right -> Up) */
.input-group .btn::before {
    bottom: 0;
    left: 0;
    border-top: none;
    border-left: none;
    /* Reverse animation sequence */
    transition: height 0.1s linear 0.2s, width 0.1s linear 0.3s, border-color 0s linear 0.4s;
}

/* Top & Left segments (Start Top-Right -> Left -> Down) */
.input-group .btn::after {
    top: 0;
    right: 0;
    border-bottom: none;
    border-right: none;
    /* Reverse animation sequence */
    transition: height 0.1s linear 0s, width 0.1s linear 0.1s, border-color 0s linear 0.2s;
}

/* Hover states - Forward animation sequence */
.input-group .btn:hover::before {
    width: 100%;
    height: 100%;
    border-bottom-color: var(--color-hover);
    border-right-color: var(--color-hover);
    transition: width 0.1s linear, height 0.1s linear 0.1s;
}

.input-group .btn:hover::after {
    width: 100%;
    height: 100%;
    border-top-color: var(--color-hover);
    border-left-color: var(--color-hover);
    transition: width 0.1s linear 0.2s, height 0.1s linear 0.3s;
}

.form-control {
    border: 1px solid rgba(125, 209, 231, 0.2) !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
    color: var(--color-secondary) !important;
    transition: var(--transition-smooth) !important;
}
.form-control:focus {
    border: thin dashed var(--color-primary) !important;
    box-shadow: var(--glow-focus) !important;
    background-color: rgba(0, 0, 0, 0.3) !important;
}
.form-control::placeholder {
    color: var(--color-zero) !important;
    opacity: 0.5;
}
.form-control:hover::placeholder {
    color: var(--color-primary) !important;
}

/* progress bar */
.progress-bar {
    background-color: var(--color-task-btn-border) !important;
    box-shadow: 0 0 10px var(--color-primary);
    color: var(--bg-color-firstlevel) !important;
    text-transform: lowercase !important;
    font-style: italic !important;
}

/* checkboxes */
.checkbox *:checked {
    background-color: transparent !important;
    border-color: var(--color-primary) !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 10'%3e%3cpath d='M3 5 L5 7 L9 3' fill='none' stroke='%237BA5E7' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e") !important;
    box-shadow: 0 0 5px var(--color-primary);
}
.checkbox *:not(:checked) {
    background-color: transparent !important;
    border-color: var(--color-zero) !important;
}

/* switches */
.form-check-input.shiny-bound-input {
    background-color: var(--bg-color-zerolevel) !important;
    border: 1px solid var(--color-zero) !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23546e7a'/%3e%3c/svg%3e") !important;
}
.form-check-input.shiny-bound-input:checked {
    background-color: var(--color-tertiary) !important;
    border-color: var(--color-primary) !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23e0e6ed'/%3e%3c/svg%3e") !important;
    box-shadow: 0 0 5px var(--color-primary);
}
.form-check-input.shiny-bound-input:hover {
    cursor: pointer !important;
    border-color: var(--color-primary) !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23e0e6ed'/%3e%3c/svg%3e") !important;
}


/* Recalculating state - Neon Blur */
.recalculating {
    filter: saturate(260%) hue-rotate(10deg) brightness(10) contrast(92%) drop-shadow(0 0 2px rgba(125, 209, 231, 0.7)) !important;
}

/* Shiny file input progress */
.shiny-file-input-progress {
    color: var(--color-secondary) !important;
}
.shiny-file-input-progress .progress {
    background-color: var(--bg-color-zerolevel) !important;
    border: 1px solid var(--color-zero) !important;
    box-shadow: none !important;
}
.shiny-file-input-progress .progress-bar {
    background-color: var(--color-tertiary) !important;
    box-shadow: 0 0 10px var(--color-tertiary) !important;
}


/* navigation bar */
nav {
    background-color: var(--bg-color-firstlevel-transparent) !important;
    border-bottom: 1px solid #3B7BA566 !important;
    box-shadow: 0 4px 20px rgba(0,0,0,0.4) !important; /* Subtle depth */
}
nav a {
    color: var(--color-zero) !important;
    transition: var(--transition-smooth) !important;
    font-weight: 500 !important;
}
nav a.active {
    color: var(--color-primary) !important;
    /* Removed border-bottom to align with hover effect height */
    background: linear-gradient(0deg, var(--color-secondary-transparent) 0%, transparent 100%) !important;
    text-shadow: var(--glow-text-primary); /* Neon text flow */
}
nav a.hover,
nav a.nav-link:hover {
    color: var(--color-hover) !important;
    text-shadow: var(--glow-text-hover);
}

/* animated bottom border */
nav a {
    position: relative;
    overflow: hidden;
    border-bottom: none !important; /* prevent default bottom border */
}

nav a::after {
    content: "";
    position: absolute;
    left: 0%;
    bottom: 0;
    width: 0;
    height: 2px;
    background-color: var(--color-hover);
    transition: left 0.2s ease-in-out, width 0.2s ease-in-out;
}

/* Active state now uses the pseudo-element for consistent positioning */
nav a.active::after {
    width: 100%;
    left: 0;
    background-color: var(--color-primary);
}

/* Change active border color on hover */
nav a.active:hover::after {
    background-color: var(--color-hover);
}


nav a:hover::after,
nav a.hover::after {
    width: 100%;
    left: 0;
}



/* Nav Pills (Sidebar) */
.col-sm-2:has(.nav-pills) {
    border-right: 1px solid rgba(57, 77, 155, 0.3) !important;
    background-color: var(--bg-color-firstlevel-transparent) !important;
}
.nav-pills .nav-item * {
    color: var(--color-zero) !important;
}

/* Animated Left Border for Nav Pills */
.nav-pills .nav-link {
    position: relative;
    overflow: hidden;
    border-left: none !important; /* Remove default border */
    transition: var(--transition-smooth) !important;
}

.nav-pills .nav-link::before {
    content: "";
    position: absolute;
    left: 0;
    top: 87.5%; /* Start from top to grow downwards */
    width: 2px; /* Matches navbar border thickness */
    transform: translateY(-100%);
    height: 0;
    background-color: var(--color-hover);
    transition: height 0.2s ease-in-out;
}

.nav-pills .nav-link:hover::before {
    height: 75%; /* Reduced from 100% to prevent touching */
}

.nav-pills a.active {
    color: var(--color-primary) !important;
    background: linear-gradient(90deg, var(--color-secondary-transparent) 0%, transparent 100%) !important;
    background-size: 100% 75% !important; /* Match border height */
    background-repeat: no-repeat !important;
    background-position: left center !important;
    /* border-left: medium solid var(--color-secondary) !important; Removed for animated border */
    text-shadow: var(--glow-text-primary);
}

/* Active state keeps the border full height */
.nav-pills a.active::before {
    height: 75%; /* Reduced from 100% to match hover span */
    background-color: var(--color-secondary);
}

/* Active hover changes border color */
.nav-pills a.active:hover::before {
    background-color: var(--color-hover);
}

.nav-pills a.nav-link:hover {
    color: var(--color-hover) !important;
    text-shadow: var(--glow-text-hover);
}


/* sliders */
.irs-bar {
    background-color: var(--color-primary) !important;
    box-shadow: 0 0 5px var(--color-primary);
}
.irs-handle {
    background-color: var(--bg-color-zerolevel) !important;
    border: 2px solid var(--color-tertiary) !important;
    box-shadow: 0 0 5px var(--color-primary);
}
.irs-line {
    background-color: transparent !important;
}
.irs-from, .irs-to, .irs-single {
    color: var(--color-primary) !important;
    background: none !important;
    text-shadow: 0 0 8px var(--color-primary);

}
.irs-min, .irs-max {
    color: var(--color-zerosecondary) !important;
}


/* custom button without frame */
.btn-noframe {
    border: none !important;
    padding: 0;
    padding-top: 17px;
    margin-left: -15px;
    background: none !important;
    box-shadow: none !important;
    color: var(--color-zero) !important;
    cursor: pointer;
    font-size: 2.65rem;
}
.btn-noframe *:hover {
    background: none !important;
    box-shadow: 0 0 8px var(--color-hover);
    color: var(--color-hover) !important;
}
.btn-noframe *:active {
    background: none !important;
    box-shadow: none !important;
    color: lightgrey !important;
}


.action-label {
    color: var(--color-zero) !important;
}
.action-label:hover {
    color: var(--color-hover) !important;
}



/* sidebar layout */
#labeling_sidebar_n_data_input_layout {
    border: 1px solid rgba(57, 77, 155, 0.4) !important;
    border-left: none !important;
}
#labeling_sidebar {
    background-color: var(--bg-color-firstlevel) !important;
}

/* sidebar accordion - uniformity */
#sidebar .accordion-item {
    background-color: var(--bg-color-firstlevel) !important;
    border-bottom: 1px solid rgba(57, 77, 155, 0.3) !important;
}
#sidebar .accordion-button {
    background-color: var(--bg-color-firstlevel) !important;
    color: var(--color-secondary) !important;
}
#sidebar .accordion-button:hover {
    color: var(--color-primary) !important;
    text-shadow: var(--glow-text-primary);
}


/* order ladder */
#order li { 
    background-color: var(--bg-color-secondlevel);
    border: 1px solid #394d9b;
    color: var(--color-secondary);
    margin-bottom: 2px;
}

/* image stack controls */
#prev, #next, #play, #stop {
    color: var(--color-zero) !important;
    transition: 0.2s;
}
#prev:hover, #next:hover {
    color: var(--color-primary) !important;
    text-shadow: 0 0 8px var(--color-primary);
}
#play:hover, #stop:hover {
    color: var(--color-quarterary) !important;
    text-shadow: 0 0 8px var(--color-quarterary);
}

/* text inputs */
.shiny-input-text.form-control.shiny-bound-input {
    border: 1px solid rgba(125, 209, 231, 0.2) !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
    color: var(--color-secondary) !important;
    transition: var(--transition-smooth) !important;
}
.shiny-input-text.form-control.shiny-bound-input:focus {
    border-color: var(--color-primary) !important;
    box-shadow: var(--glow-focus) !important;
    text-shadow: 0 0 5px rgba(255,255,255,0.5);
    background-color: rgba(0, 0, 0, 0.3) !important;
}

/* data grid */
.shiny-data-grid {
    border: 1px solid rgba(57, 77, 155, 0.4) !important;
}
* table tbody * {
    background-color: var(--bg-color-zerolevel) !important;
    color: var(--color-secondary) !important;
}
* th {
    background-color: var(--bg-color-secondlevel) !important;
    color: var(--color-primary) !important;
    border-bottom: 1px solid var(--color-primary) !important;
    text-shadow: 0 0 5px rgba(125, 209, 231, 0.3);
}
* tbody tr td {
    border-bottom: 1px solid rgba(57, 77, 155, 0.2) !important;
}

/* selectize - uniform dark theme */
.selectize-input {
    border: 1px solid rgba(125, 209, 231, 0.2) !important;
    background-color: var(--bg-color-zerolevel) !important;
    border-radius: 2px !important;
}
.selectize-input.full {
    background-color: var(--bg-color-zerolevel) !important;
}
.selectize-dropdown {
    background-color: var(--bg-color-firstlevel) !important;
    border: 1px solid var(--color-primary) !important;
    box-shadow: var(--glow-border) !important;
    z-index: 2000 !important;
}
.selectize-dropdown-content .option {
    color: var(--color-secondary) !important;
}
.selectize-dropdown-content .option.active {
    background-color: var(--bg-color-thirdlevel) !important;
    color: var(--color-primary) !important;
}
.selectize-input.focus {
    border-color: var(--color-primary) !important;
    box-shadow: var(--glow-focus) !important;
}

/* app theme selectize ui */
/* Targeted .option instead of * to allow active state override */
.selectize-control .selectize-dropdown .option {
    background-color: var(--bg-color-zerolevel) !important
}
/* Ensure active/hovered option is visible */
.selectize-control .selectize-dropdown .option.active {
    background-color: var(--bg-color-thirdlevel) !important;
}

.selectize-control .selectize-dropdown {
    border: thin solid var(--color-primary) !important;
    background-color: var(--bg-color-zerolevel) !important;
}
.selectize-control.single .selectize-input input {
    caret-color: var(--color-hover) !important
}
#app_theme + .selectize-control.single .selectize-input {
    border: none !important;
    box-shadow: none !important;
    background-color: transparent;
    border-bottom: none !important;
}
.selectize-control.single .selectize-input * {
    color: var(--color-secondary) !important;
}
.selectize-control .selectize-dropdown * {
    color: var(--color-primary) !important;
}
.selectize-control.single .selectize-input *:hover {
    color: var(--color-hover) !important;
    text-shadow: 0 0 8px var(--color-quarterary);
}
.selectize-control *:hover {
    color: var(--color-hover) !important;
}

.form-group .radio input {
    border: thin solid var(--bg-color-thirdlevel) !important;
    background-color: var(--bg-color-zerolevel) !important;
}


/* plain-link class for markdown links */
.plain-link,
.plain-link * {
    color: var(--color-primary) !important;
    text-decoration: underline var(--color-primary) !important; 
    cursor: pointer !important;
    font-style: italic !important;
}
.plain-link:hover,
.plain-link:hover * {
    color: var(--color-hover) !important;
    text-decoration: none !important;
    text-shadow: var(--glow-text-hover);
}



/* Modal Formatting - Neon Box */
.modal-content {
    background-color: var(--bg-color-firstlevel) !important;
    border: 1px solid var(--color-primary) !important;
    box-shadow: 0 0 30px rgba(125, 209, 231, 0.15), inset 0 0 20px rgba(0,0,0,0.8) !important;
    color: var(--color-secondary) !important;
    border-radius: 4px !important;
}
.modal-header {
    border-bottom: 1px solid rgba(125, 209, 231, 0.3) !important;
    background: linear-gradient(90deg, rgba(125, 209, 231, 0.1) 0%, transparent 100%) !important;
}
.modal-title {
    color: var(--color-primary) !important;
    text-shadow: var(--glow-text-primary) !important;
    font-weight: 600 !important;
    letter-spacing: 1px;
}
.modal-body {
    background-color: transparent !important;
    color: var(--color-secondary) !important;
}
.modal-footer {
    border-top: 1px solid rgba(125, 209, 231, 0.3) !important;
    background-color: transparent !important;
}
.modal-backdrop {
    background-color: #020814 !important;
    opacity: 0.9 !important;
    /* backdrop-filter: blur(2px); Removed to prevent lag over animated canvas */
}



.peregrin-logo,
.peregrin-logo:hover,
.peregrin-logo:focus,
.peregrin-logo:active,
.peregrin-logo:visited {
    font-weight: 700 !important;
    font-size: 1.8rem !important;
    color: var(--color-secondary) !important;
    text-decoration: none !important;
    text-shadow: 0 0 10px rgba(224, 230, 237, 0.3) !important; /* Subtle title glow */
    border: none !important;
    background: transparent !important;
    box-shadow: none !important;
}

.peregrin-logo:hover {
    cursor: pointer !important;
}

/* Disable the nav link underline animation for the logo */
.peregrin-logo::after {
    display: none !important;
}